.code
#import programs/print.a

entry:
li r1 0xf200 // Keyboard
li r2 0x4000 // Buffer
li r4 0x000a // Newline

ooloop:
add r3 r2 zero // Current position
int 2 0

oloop:

iloop:
lw r0 r1 0

// If null byte, continue
sub zero r0 zero
jeq iloop

// If newline, break
sub zero r0 r4
jeq end

// Otherwise write to Buffer
sw r0 r3 0
addi r3 1
int 2 1
jmp oloop

end:
// Add null terminator
sw zero r3 0
// Call print
addi sp -3
sw r2 sp 2
call r8 print
addi sp 3

jmp ooloop

int 0 0
